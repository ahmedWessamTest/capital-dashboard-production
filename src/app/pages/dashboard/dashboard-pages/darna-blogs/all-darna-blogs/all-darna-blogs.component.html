<div class="flex justify-center items-center min-h-screen">
    <div class="card w-full max-w-4xl">
      <h2 class="card-title text-center mb-6">Blogs List</h2>

      <button pButton label="Add Blog" icon="pi pi-plus" class="my-4" (click)="router.navigate(['/dashboard/menu/add-darna-blogs'])"></button>
      <p-table [value]="blogs" [tableStyle]="{'min-width': '50rem'}">
        <ng-template pTemplate="header">
          <tr>
            <th>English Title</th>
            <th>Arabic Title</th>
            <th>Active Status</th>
            <th>Actions</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-blog>
          <tr>
            <td>{{ blog.en_blog_title }}</td>
            <td>{{ blog.ar_blog_title }}</td>
            <td>
              <p-inputSwitch
                [(ngModel)]="blog.active_status"
                [trueValue]="'1'"
                [falseValue]="'0'"
                (onChange)="onStatusChange(blog, $event)"
              ></p-inputSwitch>
            </td>
            <td>
              <p-button
                icon="pi pi-pencil"
                styleClass="p-button-text"
                [routerLink]="['/dashboard/menu/edit-darna-blogs', blog.id]"
              ></p-button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
  
  @if (message.text) {
    <div [ngClass]="{
      'bg-green-100 border-green-400 text-green-700': message.type === 'success',
      'bg-red-100 border-red-400 text-red-700': message.type === 'error'
    }" class="border px-4 py-3 rounded relative mb-4 max-w-4xl mx-auto" role="alert">
      <strong class="font-bold">{{ message.type === 'success' ? 'Success!' : 'Error!' }}</strong>
      <span class="block sm:inline ml-2">{{ message.text }}</span>
    </div>
  }