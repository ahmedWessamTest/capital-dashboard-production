<ngx-spinner
  name="actionsLoader"
  bdColor="rgba(0, 0, 0, 0.8)"
  size="medium"
  color="#fff"
  type="square-spin"
  [fullScreen]="true">
  <p style="color: white">Loading...</p>
</ngx-spinner>

<div class="card">
  <h2 class="card-title">Add New Project</h2>

  <form [formGroup]="projectForm" (ngSubmit)="onSubmit()" class="project-form">
    <div class="form-section">
      <h3 class="section-title">Project Name</h3>
      <div class="form-row">
        <div class="form-field">
          <label for="en_project_name" class="field-label">English Project Name</label>
          <div class="input-container">
            <input
              pInputText
              id="en_project_name"
              formControlName="en_project_name"
              placeholder="Enter English Project Name"
              [ngClass]="{'p-invalid': projectForm.get('en_project_name')?.touched && projectForm.get('en_project_name')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('en_project_name')?.touched && projectForm.get('en_project_name')?.hasError('required')) {
              <small class="error-message">English Project Name is required</small>
            }
          </div>
        </div>
        <div class="form-field">
          <label for="ar_project_name" class="field-label">Arabic Project Name</label>
          <div class="input-container">
            <input
              pInputText
              id="ar_project_name"
              formControlName="ar_project_name"
              placeholder="Enter Arabic Project Name"
              [ngClass]="{'p-invalid': projectForm.get('ar_project_name')?.touched && projectForm.get('ar_project_name')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('ar_project_name')?.touched && projectForm.get('ar_project_name')?.hasError('required')) {
              <small class="error-message">Arabic Project Name is required</small>
            }
          </div>
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3 class="section-title">Project Title</h3>
      <div class="form-row">
        <div class="form-field">
          <label for="en_project_title" class="field-label">English Project Title</label>
          <div class="input-container">
            <input
              pInputText
              id="en_project_title"
              formControlName="en_project_title"
              placeholder="Enter English Project Title"
              [ngClass]="{'p-invalid': projectForm.get('en_project_title')?.touched && projectForm.get('en_project_title')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('en_project_title')?.touched && projectForm.get('en_project_title')?.hasError('required')) {
              <small class="error-message">English Project Title is required</small>
            }
          </div>
        </div>
        <div class="form-field">
          <label for="ar_project_title" class="field-label">Arabic Project Title</label>
          <div class="input-container">
            <input
              pInputText
              id="ar_project_title"
              formControlName="ar_project_title"
              placeholder="Enter Arabic Project Title"
              [ngClass]="{'p-invalid': projectForm.get('ar_project_title')?.touched && projectForm.get('ar_project_title')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('ar_project_title')?.touched && projectForm.get('ar_project_title')?.hasError('required')) {
              <small class="error-message">Arabic Project Title is required</small>
            }
          </div>
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3 class="section-title">Small Text</h3>
      <div class="form-row">
        <div class="form-field">
          <label for="en_small_text" class="field-label">English Small Text</label>
          <textarea
            pInputTextarea
            id="en_small_text"
            formControlName="en_small_text"
            rows="7"
            placeholder="Enter English Small Text"
            [ngClass]="{'p-invalid': projectForm.get('en_small_text')?.touched && projectForm.get('en_small_text')?.invalid}"
            [disabled]="isSubmitting"
          ></textarea>
          <div class="error-container">
            @if (projectForm.get('en_small_text')?.touched && projectForm.get('en_small_text')?.hasError('required')) {
              <small class="error-message">English Small Text is required</small>
            }
          </div>
        </div>
        <div class="form-field">
          <label for="ar_small_text" class="field-label">Arabic Small Text</label>
          <textarea
            pInputTextarea
            id="ar_small_text"
            formControlName="ar_small_text"
            rows="7"
            placeholder="Enter Arabic Small Text"
            [ngClass]="{'p-invalid': projectForm.get('ar_small_text')?.touched && projectForm.get('ar_small_text')?.invalid}"
            [disabled]="isSubmitting"
          ></textarea>
          <div class="error-container">
            @if (projectForm.get('ar_small_text')?.touched && projectForm.get('ar_small_text')?.hasError('required')) {
              <small class="error-message">Arabic Small Text is required</small>
            }
          </div>
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3 class="section-title">Project Description</h3>
      <div class="form-row">
        <div class="form-field">
          <label for="en_project_description" class="field-label">English Project Description</label>
          <ngx-jodit
            dir="ltr"
            [options]="{ language: 'en', direction: 'ltr', height: 400 }"
            formControlName="en_project_description"
            class="rich-text-content"
            [ngClass]="{'p-invalid': projectForm.get('en_project_description')?.touched && projectForm.get('en_project_description')?.invalid}"
            [attr.disabled]="isSubmitting ? true : null"
          ></ngx-jodit>
          <div class="error-container">
            @if (projectForm.get('en_project_description')?.touched && projectForm.get('en_project_description')?.hasError('required')) {
              <small class="error-message">English Project Description is required</small>
            }
          </div>
        </div>
        <div class="form-field">
          <label for="ar_project_description" class="field-label">Arabic Project Description</label>
          <ngx-jodit
            dir="rtl"
            [options]="{ language: 'ar', direction: 'rtl', height: 400 }"
            formControlName="ar_project_description"
            class="rich-text-content"
            [ngClass]="{'p-invalid': projectForm.get('ar_project_description')?.touched && projectForm.get('ar_project_description')?.invalid}"
            [attr.disabled]="isSubmitting ? true : null"
          ></ngx-jodit>
          <div class="error-container">
            @if (projectForm.get('ar_project_description')?.touched && projectForm.get('ar_project_description')?.hasError('required')) {
              <small class="error-message">Arabic Project Description is required</small>
            }
          </div>
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3 class="section-title">Script Text</h3>
      <div class="form-row">
        <div class="form-field">
          <label for="en_script_text" class="field-label">English Script Text</label>
          <textarea
            pInputTextarea
            id="en_script_text"
            formControlName="en_script_text"
            rows="7"
            placeholder="Enter English Script Text"
            [ngClass]="{'p-invalid': projectForm.get('en_script_text')?.touched && projectForm.get('en_script_text')?.invalid}"
            [disabled]="isSubmitting"
          ></textarea>
          <div class="error-container">
            @if (projectForm.get('en_script_text')?.touched && projectForm.get('en_script_text')?.hasError('required')) {
              <small class="error-message">English Script Text is required</small>
            }
          </div>
        </div>
        <div class="form-field">
          <label for="ar_script_text" class="field-label">Arabic Script Text</label>
          <textarea
            pInputTextarea
            id="ar_script_text"
            formControlName="ar_script_text"
            rows="7"
            placeholder="Enter Arabic Script Text"
            [ngClass]="{'p-invalid': projectForm.get('ar_script_text')?.touched && projectForm.get('ar_script_text')?.invalid}"
            [disabled]="isSubmitting"
          ></textarea>
          <div class="error-container">
            @if (projectForm.get('ar_script_text')?.touched && projectForm.get('ar_script_text')?.hasError('required')) {
              <small class="error-message">Arabic Script Text is required</small>
            }
          </div>
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3 class="section-title">Meta Information</h3>
      <div class="form-row">
        <div class="form-field">
          <label for="en_meta_title" class="field-label">English Meta Title</label>
          <div class="input-container">
            <input
              pInputText
              id="en_meta_title"
              formControlName="en_meta_title"
              placeholder="Enter English Meta Title"
              [ngClass]="{'p-invalid': projectForm.get('en_meta_title')?.touched && projectForm.get('en_meta_title')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('en_meta_title')?.touched && projectForm.get('en_meta_title')?.hasError('required')) {
              <small class="error-message">English Meta Title is required</small>
            }
          </div>
        </div>
        <div class="form-field">
          <label for="ar_meta_title" class="field-label">Arabic Meta Title</label>
          <div class="input-container">
            <input
              pInputText
              id="ar_meta_title"
              formControlName="ar_meta_title"
              placeholder="Enter Arabic Meta Title"
              [ngClass]="{'p-invalid': projectForm.get('ar_meta_title')?.touched && projectForm.get('ar_meta_title')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('ar_meta_title')?.touched && projectForm.get('ar_meta_title')?.hasError('required')) {
              <small class="error-message">Arabic Meta Title is required</small>
            }
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-field">
          <label for="en_meta_description" class="field-label">English Meta Description</label>
          <textarea
            pInputTextarea
            id="en_meta_description"
            formControlName="en_meta_description"
            rows="7"
            placeholder="Enter English Meta Description"
            [ngClass]="{'p-invalid': projectForm.get('en_meta_description')?.touched && projectForm.get('en_meta_description')?.invalid}"
            [disabled]="isSubmitting"
          ></textarea>
          <div class="error-container">
            @if (projectForm.get('en_meta_description')?.touched && projectForm.get('en_meta_description')?.hasError('required')) {
              <small class="error-message">English Meta Description is required</small>
            }
          </div>
        </div>
        <div class="form-field">
          <label for="ar_meta_description" class="field-label">Arabic Meta Description</label>
          <textarea
            pInputTextarea
            id="ar_meta_description"
            formControlName="ar_meta_description"
            rows="7"
            placeholder="Enter Arabic Meta Description"
            [ngClass]="{'p-invalid': projectForm.get('ar_meta_description')?.touched && projectForm.get('ar_meta_description')?.invalid}"
            [disabled]="isSubmitting"
          ></textarea>
          <div class="error-container">
            @if (projectForm.get('ar_meta_description')?.touched && projectForm.get('ar_meta_description')?.hasError('required')) {
              <small class="error-message">Arabic Meta Description is required</small>
            }
          </div>
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3 class="section-title">Form Information</h3>
      <div class="form-row">
        <div class="form-field">
          <label for="en_title_form" class="field-label">English Form Title</label>
          <div class="input-container">
            <input
              pInputText
              id="en_title_form"
              formControlName="en_title_form"
              placeholder="Enter English Form Title"
              [ngClass]="{'p-invalid': projectForm.get('en_title_form')?.touched && projectForm.get('en_title_form')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('en_title_form')?.touched && projectForm.get('en_title_form')?.hasError('required')) {
              <small class="error-message">English Form Title is required</small>
            }
          </div>
        </div>
        <div class="form-field">
          <label for="ar_title_form" class="field-label">Arabic Form Title</label>
          <div class="input-container">
            <input
              pInputText
              id="ar_title_form"
              formControlName="ar_title_form"
              placeholder="Enter Arabic Form Title"
              [ngClass]="{'p-invalid': projectForm.get('ar_title_form')?.touched && projectForm.get('ar_title_form')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('ar_title_form')?.touched && projectForm.get('ar_title_form')?.hasError('required')) {
              <small class="error-message">Arabic Form Title is required</small>
            }
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-field">
          <label for="en_description_form" class="field-label">English Form Description</label>
          <textarea
            pInputTextarea
            id="en_description_form"
            formControlName="en_description_form"
            rows="7"
            placeholder="Enter English Form Description"
            [ngClass]="{'p-invalid': projectForm.get('en_description_form')?.touched && projectForm.get('en_description_form')?.invalid}"
            [disabled]="isSubmitting"
          ></textarea>
          <div class="error-container">
            @if (projectForm.get('en_description_form')?.touched && projectForm.get('en_description_form')?.hasError('required')) {
              <small class="error-message">English Form Description is required</small>
            }
          </div>
        </div>
        <div class="form-field">
          <label for="ar_description_form" class="field-label">Arabic Form Description</label>
          <textarea
            pInputTextarea
            id="ar_description_form"
            formControlName="ar_description_form"
            rows="7"
            placeholder="Enter Arabic Form Description"
            [ngClass]="{'p-invalid': projectForm.get('ar_description_form')?.touched && projectForm.get('ar_description_form')?.invalid}"
            [disabled]="isSubmitting"
          ></textarea>
          <div class="error-container">
            @if (projectForm.get('ar_description_form')?.touched && projectForm.get('ar_description_form')?.hasError('required')) {
              <small class="error-message">Arabic Form Description is required</small>
            }
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-field">
          <label for="en_form_first_input_info" class="field-label">English First Input Info</label>
          <div class="input-container">
            <input
              pInputText
              id="en_form_first_input_info"
              formControlName="en_form_first_input_info"
              placeholder="Enter English First Input Info"
              [ngClass]="{'p-invalid': projectForm.get('en_form_first_input_info')?.touched && projectForm.get('en_form_first_input_info')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('en_form_first_input_info')?.touched && projectForm.get('en_form_first_input_info')?.hasError('required')) {
              <small class="error-message">English First Input Info is required</small>
            }
          </div>
        </div>
        <div class="form-field">
          <label for="ar_form_first_input_info" class="field-label">Arabic First Input Info</label>
          <div class="input-container">
            <input
              pInputText
              id="ar_form_first_input_info"
              formControlName="ar_form_first_input_info"
              placeholder="Enter Arabic First Input Info"
              [ngClass]="{'p-invalid': projectForm.get('ar_form_first_input_info')?.touched && projectForm.get('ar_form_first_input_info')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('ar_form_first_input_info')?.touched && projectForm.get('ar_form_first_input_info')?.hasError('required')) {
              <small class="error-message">Arabic First Input Info is required</small>
            }
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-field">
          <label for="en_form_second_input_info" class="field-label">English Second Input Info</label>
          <div class="input-container">
            <input
              pInputText
              id="en_form_second_input_info"
              formControlName="en_form_second_input_info"
              placeholder="Enter English Second Input Info"
              [ngClass]="{'p-invalid': projectForm.get('en_form_second_input_info')?.touched && projectForm.get('en_form_second_input_info')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('en_form_second_input_info')?.touched && projectForm.get('en_form_second_input_info')?.hasError('required')) {
              <small class="error-message">English Second Input Info is required</small>
            }
          </div>
        </div>
        <div class="form-field">
          <label for="ar_form_second_input_info" class="field-label">Arabic Second Input Info</label>
          <div class="input-container">
            <input
              pInputText
              id="ar_form_second_input_info"
              formControlName="ar_form_second_input_info"
              placeholder="Enter Arabic Second Input Info"
              [ngClass]="{'p-invalid': projectForm.get('ar_form_second_input_info')?.touched && projectForm.get('ar_form_second_input_info')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('ar_form_second_input_info')?.touched && projectForm.get('ar_form_second_input_info')?.hasError('required')) {
              <small class="error-message">Arabic Second Input Info is required</small>
            }
          </div>
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3 class="section-title">Additional Details</h3>
      <div class="form-row">
        <div class="form-field">
          <label for="main_file_link" class="field-label">Main File Link</label>
          <div class="input-container">
            <input
              pInputText
              id="main_file_link"
              formControlName="main_file_link"
              placeholder="Enter Main File Link"
              [ngClass]="{'p-invalid': projectForm.get('main_file_link')?.touched && projectForm.get('main_file_link')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('main_file_link')?.touched && projectForm.get('main_file_link')?.hasError('required')) {
              <small class="error-message">Main File Link is required</small>
            }
          </div>
        </div>
        <div class="form-field">
          <label for="google_map_link" class="field-label">Google Map Link</label>
          <div class="input-container">
            <input
              pInputText
              id="google_map_link"
              formControlName="google_map_link"
              placeholder="Enter Google Map Link"
              [ngClass]="{'p-invalid': projectForm.get('google_map_link')?.touched && projectForm.get('google_map_link')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('google_map_link')?.touched && projectForm.get('google_map_link')?.hasError('required')) {
              <small class="error-message">Google Map Link is required</small>
            }
          </div>
        </div>
      </div>

      <div class="form-row flex items-center">
        <div class="form-field">
          <label for="project_date" class="field-label">Project Date</label>
          <div class="input-container">
            <input
              type="date"
              pInputText
              id="project_date"
              formControlName="project_date"
              [min]="minDate"
              [ngClass]="{'p-invalid': projectForm.get('project_date')?.touched && projectForm.get('project_date')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('project_date')?.touched && projectForm.get('project_date')?.hasError('required')) {
              <small class="error-message">Project Date is required</small>
            }
            @if (projectForm.get('project_date')?.touched && projectForm.get('project_date')?.hasError('pastDate')) {
              <small class="error-message">Selected date is in the past. Please choose today or a future date.</small>
            }
          </div>
        </div>

        <div class="form-field">
          <label for="active_status" class="field-label">Status</label>
          <div class="status-container">
            <p-inputSwitch
              id="active_status"
              formControlName="active_status"
              [trueValue]="true"
              [falseValue]="false"
              (onChange)="onActiveStatusChange($event)"
              [disabled]="isSubmitting"
            ></p-inputSwitch>
            <span class="status-label">{{ projectForm.get('active_status')?.value === true ? 'Active' : 'Inactive' }}</span>
          </div>
          <div class="error-container">
            @if (projectForm.get('active_status')?.touched && projectForm.get('active_status')?.hasError('required')) {
              <small class="error-message">Status is required</small>
            }
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-field">
          <label for="en_slug" class="field-label">English Slug</label>
          <div class="input-container">
            <input
              pInputText
              id="en_slug"
              formControlName="en_slug"
              placeholder="Enter English Slug"
              [ngClass]="{'p-invalid': projectForm.get('en_slug')?.touched && projectForm.get('en_slug')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('en_slug')?.touched && projectForm.get('en_slug')?.hasError('required')) {
              <small class="error-message">English Slug is required</small>
            }
          </div>
        </div>
        <div class="form-field">
          <label for="ar_slug" class="field-label">Arabic Slug</label>
          <div class="input-container">
            <input
              pInputText
              id="ar_slug"
              formControlName="ar_slug"
              placeholder="Enter Arabic Slug"
              [ngClass]="{'p-invalid': projectForm.get('ar_slug')?.touched && projectForm.get('ar_slug')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('ar_slug')?.touched && projectForm.get('ar_slug')?.hasError('required')) {
              <small class="error-message">Arabic Slug is required</small>
            }
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-field">
          <label for="en_alt_main_image" class="field-label">English Main Image Alt Text</label>
          <div class="input-container">
            <input
              pInputText
              id="en_alt_main_image"
              formControlName="en_alt_main_image"
              placeholder="Enter English Main Image Alt Text"
              [ngClass]="{'p-invalid': projectForm.get('en_alt_main_image')?.touched && projectForm.get('en_alt_main_image')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('en_alt_main_image')?.touched && projectForm.get('en_alt_main_image')?.hasError('required')) {
              <small class="error-message">English Main Image Alt Text is required</small>
            }
          </div>
        </div>
        <div class="form-field">
          <label for="ar_alt_main_image" class="field-label">Arabic Main Image Alt Text</label>
          <div class="input-container">
            <input
              pInputText
              id="ar_alt_main_image"
              formControlName="ar_alt_main_image"
              placeholder="Enter Arabic Main Image Alt Text"
              [ngClass]="{'p-invalid': projectForm.get('ar_alt_main_image')?.touched && projectForm.get('ar_alt_main_image')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('ar_alt_main_image')?.touched && projectForm.get('ar_alt_main_image')?.hasError('required')) {
              <small class="error-message">Arabic Main Image Alt Text is required</small>
            }
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-field">
          <label for="en_alt_banner_image" class="field-label">English Banner Image Alt Text</label>
          <div class="input-container">
            <input
              pInputText
              id="en_alt_banner_image"
              formControlName="en_alt_banner_image"
              placeholder="Enter English Banner Image Alt Text"
              [ngClass]="{'p-invalid': projectForm.get('en_alt_banner_image')?.touched && projectForm.get('en_alt_banner_image')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('en_alt_banner_image')?.touched && projectForm.get('en_alt_banner_image')?.hasError('required')) {
              <small class="error-message">English Banner Image Alt Text is required</small>
            }
          </div>
        </div>
        <div class="form-field">
          <label for="ar_alt_banner_image" class="field-label">Arabic Banner Image Alt Text</label>
          <div class="input-container">
            <input
              pInputText
              id="ar_alt_banner_image"
              formControlName="ar_alt_banner_image"
              placeholder="Enter Arabic Banner Image Alt Text"
              [ngClass]="{'p-invalid': projectForm.get('ar_alt_banner_image')?.touched && projectForm.get('ar_alt_banner_image')?.invalid}"
              [disabled]="isSubmitting"
            />
          </div>
          <div class="error-container">
            @if (projectForm.get('ar_alt_banner_image')?.touched && projectForm.get('ar_alt_banner_image')?.hasError('required')) {
              <small class="error-message">Arabic Banner Image Alt Text is required</small>
            }
          </div>
        </div>
      </div>

      <div class="form-field">
        <label class="field-label">Main Image</label>
        <app-image-upload
          [singleImageMode]="true"
          [id]="'main'"
          (imagesChanged)="onImagesChanged($event, 'main')"
        ></app-image-upload>
        <div class="error-container">
          @if (projectForm.get('main_image')?.touched && projectForm.get('main_image')?.hasError('required')) {
            <small class="error-message">Main Image is required</small>
          }
        </div>
      </div>

      <div class="form-field">
        <label class="field-label">Banner Image</label>
        <app-image-upload
          [singleImageMode]="true"
          [id]="'banner'"
          (imagesChanged)="onImagesChanged($event, 'banner')"
        ></app-image-upload>
        <div class="error-container">
          @if (projectForm.get('banner_image')?.touched && projectForm.get('banner_image')?.hasError('required')) {
            <small class="error-message">Banner Image is required</small>
          }
        </div>
      </div>
    </div>

    <div class="flex justify-between items-center">
      <p-button
        type="button"
        label="Cancel"
        styleClass="p-button-text p-button-secondary"
        [routerLink]="['/dashboard/menu/darna-projects']"
        [disabled]="isSubmitting"
      ></p-button>
      <button
        type="submit"
        [disabled]="projectForm.invalid || isSubmitting"
        class="btn-main"
      >{{ isSubmitting ? 'Creating...' : 'Create Project' }}</button>
    </div>
  </form>
</div>

@if (message.text) {
  <div [ngClass]="{
    'bg-green-100 border-green-400 text-green-700': message.type === 'success',
    'bg-red-100 border-red-400 text-red-700': message.type === 'error'
  }" class="border px-4 py-3 rounded relative mb-4" role="alert">
    <strong class="font-bold">{{ message.type === 'success' ? 'Success!' : 'Error!' }}</strong>
    <span class="block sm:inline ml-2">{{ message.text }}</span>
  </div>
}